{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% load index %}

{% block content %}

<head>
    <link rel="stylesheet" href="{% static 'css/golfround.css' %}">
    <script type="text/javascript" src="{% static 'js/round_submission.js' %}"></script>
</head>

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    {{ form.errors }}
{{ form.non_field_errors }}
    <h1> {{teetime_data.tee.course.course_name}} - {{teetime_data.tee.tee_name}}</h1>
    <h4> {{teetime_data.gametype}}
    <table class="table" id='table1' style="table-layout:fixed">
      <thead>
        <tr>
          <th class="th-score">Golfer</th>
          <th class="th-score">Index</th>
          <th class="th-score">1</th>
          <th class="th-score">2</th>
          <th class="th-score">3</th>
          <th class="th-score">4</th>
          <th class="th-score">5</th>
          <th class="th-score">6</th>
          <th class="th-score">7</th>
          <th class="th-score">8</th>
          <th class="th-score">9</th>
          <th class="th-score">10</th>
          <th class="th-score">11</th>
          <th class="th-score">12</th>
          <th class="th-score">13</th>
          <th class="th-score">14</th>
          <th class="th-score">15</th>
          <th class="th-score">16</th>
          <th class="th-score">17</th>
          <th class="th-score">18</th>
          <th class="th-score">Total Score</th>
        </tr>
        <tr>
          <th class="th-score" ></th>
          <th class="th-score" >Yardage</th>
          <th class="th-score" >{{teetime_data.tee.hole_1_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_2_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_3_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_4_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_5_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_6_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_7_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_8_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_9_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_10_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_11_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_12_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_13_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_14_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_15_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_16_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_17_yardage}}</th>
          <th class="th-score" >{{teetime_data.tee.hole_18_yardage}}</th>
        </tr>
        </thead>
        <tbody>
            {% comment %} {% for players in teetime_data.Players.all  %} {% endcomment %}
          {{ scoreformset.management_form }}
          {% for scoreform in scoreformset %}
          <tr>
            <th class="td-player" style="border-bottom: 0;">{{round_score_data|index:forloop.counter0|index:'golfer'}}</th>
            <th class="td-player" style="border-bottom: 0;">{{round_score_data|index:forloop.counter0|index:'player_course_hcp'}}</th>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:0}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:1}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:2}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:3}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:4}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:5}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:6}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:7}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:8}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:9}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:10}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:11}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:12}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:13}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:14}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:15}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:16}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'gross_score'|index:17}}</td>
            <td class="td-score">{{round_score_data|index:forloop.counter0|index:'total_gross_score'}}</td>
          </tr>
          <tr>
            {% for i in round_score_data|index:forloop.counter0|index:'team' %}
            <td class="td-post-score">Team: {{i.team}} </td>
            {% endfor %}
            <td class="td-post-score"> </td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:0}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:1}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:2}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:3}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:4}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:5}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:6}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:7}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:8}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:9}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:10}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:11}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:12}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:13}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:14}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:15}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:16}}</td>
            <td class="td-post-score">{{net_score_list|index:forloop.counter0|index:17}}</td>
            <td class="td-post-score">{{round_score_data|index:forloop.counter0|index:'total_net_score'}}</td>
          </tr>
         {% endfor %} 
          </tbody>
          <tfoot>
            <tr>
              <th class="th-score" >Par</th>
              <th class="th-score" ></th>
              <th class="th-score" >{{teetime_data.tee.hole_1_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_2_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_3_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_4_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_5_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_6_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_7_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_8_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_9_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_10_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_11_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_12_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_13_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_14_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_15_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_16_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_17_par}}</th>
              <th class="th-score" >{{teetime_data.tee.hole_18_par}}</th>
            </tr>
            <tr>
              <th class="th-score" >Index</th>
              <th class="th-score" ></th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_1_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_2_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_3_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_4_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_5_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_6_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_7_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_8_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_9_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_10_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_11_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_12_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_13_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_14_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_15_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_16_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_17_index}}</th>
              <th class="th-score tee-index" >{{teetime_data.tee.hole_18_index}}</th>
            </tr>
            <tr> 
              <td></td>
            </tr>
            <tr>
              <th class="th-score" >{{processed_score_data|index:0|index:0|index:'golfer'}} and {{processed_score_data|index:0|index:1|index:'golfer'}} VS <br> {{processed_score_data|index:1|index:0|index:'golfer'}} and {{processed_score_data|index:1|index:1|index:'golfer'}}</th>
              <th class="th-score">{{processed_score_data|index:0|index:0|index:'golfer'}} and {{processed_score_data|index:0|index:1|index:'golfer'}}</th>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:0}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:1}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:2}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:3}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:4}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:5}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:6}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:7}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:8}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:9}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:10}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:11}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:12}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:13}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:14}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:15}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:16}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'team_1'|index:17}}</td>
              <td class="td-score">{{processed_score_data|index:2|index:'net_score'}}</td>
            </tr>       
        </tfoot>
      </table>
      <div class="container text-center">
        <div class="row">
          {% if processed_score_data|index:2|index:'net_score' == 0 %}
            <h1>DRAW</h1>
          {% elif processed_score_data|index:2|index:'net_score' > 0 %}
            <h1>{{processed_score_data|index:0|index:0|index:'golfer'}} and {{processed_score_data|index:0|index:1|index:'golfer'}} WIN</h1>
          {% else %}
            <h1>{{processed_score_data|index:0|index:0|index:'golfer'}} and {{processed_score_data|index:0|index:1|index:'golfer'}} LOST</h1>
        {% endif %}
        </div>
      </div>
       <div class="row-col" id="round_submit">
       <a class="btn btn-danger" style="float:left; margin-left: 50px" onClick="javascript:history.go(-1);" role="button">Back</a>
      </div>
{% endblock %}